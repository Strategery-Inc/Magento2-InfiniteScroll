<?xml version="1.0"?>
<!--
/**
 * Strategery Infinitescroll - Magento 2 Module
 *
 * NOTICE OF LICENSE
 *
 * This source file is subject to the Academic Free License (AFL 3.0),
 * available through the world-wide-web at this URL:
 * http://opensource.org/licenses/afl-3.0.php
 *
 * @license http://opensource.org/licenses/afl-3.0.php  Academic Free License (AFL 3.0)
 * @copyright Copyright (c) 2016 Strategery Inc. (http://www.strategery.io/)
 * @author Damian A. Pastorini (damian.pastorini@strategery.io)
 */
-->
<page xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:noNamespaceSchemaLocation="urn:magento:framework:View/Layout/etc/page_configuration.xsd">
    <body>
        <referenceContainer name="content">
            <block class="Strategery\Infinitescroll\Block\Init" name="infinitescroll.init" template="Strategery_Infinitescroll::js.phtml"/>
        </referenceContainer>

        <!-- @todo: Is possibile to add another block instead of rewrite? -->
        <referenceBlock name="category.product.type.details.renderers">
            <block class="Magento\Swatches\Block\Product\Renderer\Listing\Configurable"
                   name="category.product.type.details.renderers.configurable" as="configurable"
                   template="Strategery_Infinitescroll::product/listing/renderer.phtml"
                   ifconfig="catalog/frontend/show_swatches_in_product_list">
                <arguments>
                    <argument name="configurable_view_model"
                              xsi:type="object">Magento\Swatches\ViewModel\Product\Renderer\Configurable</argument>
                </arguments>
            </block>
        </referenceBlock>
    </body>
</page>
